<VirtualHost *:80> 
  ServerName roverpi.local
  ServerAlias roverpi.local

  Redirect permanent / https://roverpi.local/
</VirtualHost>


<VirtualHost *:443>
	# Add machine's IP address (use ifconfig command)
	ServerName roverpi.local

	Protocols h2 http/1.1

	SSLEngine on
	SSLCertificateFile /etc/ssl/certs/apache-selfsigned.crt
	SSLCertificateKeyFile /etc/ssl/private/apache-selfsigned.key


	# Give an alias to to start your website url with
	WSGIScriptAlias /rover /usr/local/www/rover/rover_app.wsgi

	# Allow auth headers through
	WSGIPassAuthorization On

	<Directory /usr/local/www/rover/>
		# set permissions as per apache2.conf file
		Options FollowSymLinks
		AllowOverride None
		Require all granted
	</Directory>

	ErrorLog ${APACHE_LOG_DIR}/error.log

	LogLevel warn
	CustomLog ${APACHE_LOG_DIR}/access.log combined

</VirtualHost>